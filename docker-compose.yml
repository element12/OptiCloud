version: "3.9"

services:
  usuarios-api:
    build: ./backend/usuarios-api
    environment:
      - PORT=3001
      - SERVICE_NAME=usuarios-api
      - DATABASE_URL=${DATABASE_URL}
    ports:
      - "3001:3001"
    restart: unless-stopped
  frontend:
    build: ./frontend
    environment:
      - PORT=3000
      - SERVICE_NAME=frontend
    ports:
      - "3000:3000"
    restart: unless-stopped

  catalogoinventario-api:
    build: ./backend/catalogoInventario-api
    environment:
      - PORT=3002
      - SERVICE_NAME=catalogoinventario-api
      - DATABASE_URL=${DATABASE_URL_NOSQL}
    ports:
      - "3002:3002"
    restart: unless-stopped

  # products-api:
  #   build: ./products-api
  #   environment:
  #     - PORT=4002
  #     - SERVICE_NAME=products-api
  #     - DATABASE_URL_MONGO=${DATABASE_URL_MONGO}
  #     - USERS_API_URL=${USERS_API_URL}
  #   ports:
  #     - "4002:4002"
  #   depends_on:
  #     - users-api
  #   restart: unless-stopped